# JingWenHub æ ¡å›­å°ç¨‹åºé¡¹ç›®å¯åŠ¨æŒ‡å—

> æœ€åæ›´æ–°ï¼š2026-01-09  
> ç‰ˆæœ¬ï¼šv1.0  
> é¡¹ç›®çŠ¶æ€ï¼šç¬¬ä¸€é˜¶æ®µé‡æ„å®Œæˆ

---

## ğŸ“‹ ç›®å½•

- [1. é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
- [2. ç¯å¢ƒå‡†å¤‡](#2-ç¯å¢ƒå‡†å¤‡)
- [3. åç«¯æœåŠ¡å¯åŠ¨æµç¨‹](#3-åç«¯æœåŠ¡å¯åŠ¨æµç¨‹)
- [4. å‰ç«¯å°ç¨‹åºå¯åŠ¨æµç¨‹](#4-å‰ç«¯å°ç¨‹åºå¯åŠ¨æµç¨‹)
- [5. å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ](#5-å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ)
- [6. éªŒè¯æ­¥éª¤](#6-éªŒè¯æ­¥éª¤)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç®€ä»‹

**JingWenHub** æ˜¯ä¸€ä¸ªæ ¡å›­ä¿¡æ¯å¢™å°ç¨‹åºé¡¹ç›®ï¼Œä¸ºå­¦ç”Ÿæä¾›ä¿¡æ¯å‘å¸ƒã€ç¤¾äº¤äº’åŠ¨ã€è·‘è…¿æœåŠ¡ã€äºŒæ‰‹äº¤æ˜“ç­‰åŠŸèƒ½ã€‚

### 1.2 æŠ€æœ¯æ¶æ„

```
â”œâ”€â”€ backend (jingwenhub)        # åç«¯æœåŠ¡ - Spring Boot 2.5.14
â”‚   â”œâ”€â”€ campus-common           # å…¬å…±æ¨¡å—
â”‚   â”œâ”€â”€ campus-framework        # ç³»ç»Ÿæ¡†æ¶
â”‚   â”œâ”€â”€ campus-admin            # ç®¡ç†æ¨¡å—
â”‚   â””â”€â”€ campus-modular          # ä¸šåŠ¡æ¨¡å—ï¼ˆä¸»å¯åŠ¨å…¥å£ï¼‰
â”‚
â”œâ”€â”€ uniapp                      # å°ç¨‹åºå‰ç«¯ - uni-app (Vue 3)
â”‚   â”œâ”€â”€ src/pages              # é¡µé¢
â”‚   â”œâ”€â”€ src/api                # API æ¥å£
â”‚   â””â”€â”€ src/utils              # å·¥å…·ç±»
â”‚
â””â”€â”€ admin                       # ç®¡ç†åå° - Vue 3 + Element Plus
```

### 1.3 æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

- âœ… **å¾®ä¿¡å°ç¨‹åºç™»å½•**ï¼šåŸºäº openid/unionid çš„ç”¨æˆ·è®¤è¯
- âœ… **å­¦ç”Ÿä¿¡æ¯ç®¡ç†**ï¼šæ‰©å±•çš„å­¦ç”Ÿä¿¡æ¯è¡¨ï¼ˆbus_studentï¼‰
- ğŸš§ **è®ºå›å¸–å­**ï¼šå‘å¸ƒã€è¯„è®ºã€ç‚¹èµã€æ”¶è—
- ğŸš§ **è·‘è…¿æœåŠ¡**ï¼šè®¢å•å‘å¸ƒä¸æ¥å•
- ğŸš§ **äºŒæ‰‹å¸‚åœº**ï¼šå•†å“å‘å¸ƒä¸äº¤æ˜“
- ğŸš§ **å…¼èŒæ‹›è˜**ï¼šå²—ä½å‘å¸ƒä¸ç”³è¯·

---

## 2. ç¯å¢ƒå‡†å¤‡

### 2.1 å¿…éœ€ç¯å¢ƒ

| è½¯ä»¶               | ç‰ˆæœ¬è¦æ±‚    | è¯´æ˜           |
| ------------------ | ----------- | -------------- |
| **JDK**            | 21.0.8+     | Java å¼€å‘ç¯å¢ƒ  |
| **Maven**          | 3.6.0+      | é¡¹ç›®æ„å»ºå·¥å…·   |
| **MySQL**          | 5.7+ / 8.0+ | æ•°æ®åº“         |
| **Redis**          | 5.0+        | ç¼“å­˜æœåŠ¡       |
| **Node.js**        | 16.0+       | å‰ç«¯è¿è¡Œç¯å¢ƒ   |
| **pnpm**           | 8.0+        | Node åŒ…ç®¡ç†å™¨  |
| **å¾®ä¿¡å¼€å‘è€…å·¥å…·** | æœ€æ–°ç¨³å®šç‰ˆ  | å°ç¨‹åºè°ƒè¯•å·¥å…· |

### 2.2 ç¯å¢ƒå®‰è£…éªŒè¯

```bash
# æ£€æŸ¥ Java ç‰ˆæœ¬
java -version
# è¾“å‡ºç¤ºä¾‹ï¼šjava version "21.0.8"

# æ£€æŸ¥ Maven ç‰ˆæœ¬
mvn -version
# è¾“å‡ºç¤ºä¾‹ï¼šApache Maven 3.9.9

# æ£€æŸ¥ MySQL æ˜¯å¦è¿è¡Œ
mysql --version
# è¾“å‡ºç¤ºä¾‹ï¼šmysql  Ver 8.0.x

# æ£€æŸ¥ Redis æ˜¯å¦è¿è¡Œ
redis-cli ping
# è¾“å‡ºç¤ºä¾‹ï¼šPONG

# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node -v
# è¾“å‡ºç¤ºä¾‹ï¼šv16.x.x æˆ–æ›´é«˜

# æ£€æŸ¥ pnpm ç‰ˆæœ¬
pnpm -v
# è¾“å‡ºç¤ºä¾‹ï¼š8.x.x
```

### 2.3 ç›®å½•ç»“æ„

```
e:\wxxcx\JingWenWall\
â”œâ”€â”€ jingwenhub\                # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ campus-modular\        # ä¸»æ¨¡å—ï¼ˆå¯åŠ¨å…¥å£ï¼‰
â”‚   â”‚   â””â”€â”€ src\main\
â”‚   â”‚       â”œâ”€â”€ java\          # Java æºç 
â”‚   â”‚       â””â”€â”€ resources\     # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ sql\                   # æ•°æ®åº“è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ campus_example-1.1.7.sql    # åŸºç¡€è¡¨
â”‚   â”‚   â””â”€â”€ bus_tables_v1.0.sql         # ä¸šåŠ¡è¡¨
â”‚   â””â”€â”€ pom.xml               # Maven é…ç½®
â”‚
â”œâ”€â”€ uniapp\                    # å°ç¨‹åºå‰ç«¯
â”‚   â”œâ”€â”€ src\                   # æºç 
â”‚   â”œâ”€â”€ dist\dev\mp-weixin\   # ç¼–è¯‘è¾“å‡ºï¼ˆå¾®ä¿¡å°ç¨‹åºï¼‰
â”‚   â””â”€â”€ package.json          # ä¾èµ–é…ç½®
â”‚
â””â”€â”€ admin\                     # ç®¡ç†åå°
```

---

## 3. åç«¯æœåŠ¡å¯åŠ¨æµç¨‹

### 3.1 æ•°æ®åº“å‡†å¤‡

#### æ­¥éª¤ 1ï¼šåˆ›å»ºæ•°æ®åº“

```sql
CREATE DATABASE jingwen_campus
CHARACTER SET utf8mb4
COLLATE utf8mb4_unicode_ci;
```

#### æ­¥éª¤ 2ï¼šå¯¼å…¥åŸºç¡€è¡¨

```bash
# å¯¼å…¥ç³»ç»ŸåŸºç¡€è¡¨ï¼ˆç”¨æˆ·ã€è§’è‰²ã€æƒé™ç­‰ï¼‰
mysql -u root -p jingwen_campus < e:\wxxcx\JingWenWall\jingwenhub\sql\campus_example-1.1.7.sql
```

#### æ­¥éª¤ 3ï¼šå¯¼å…¥ä¸šåŠ¡è¡¨

```bash
# å¯¼å…¥æ–°å¢çš„ 13 å¼ ä¸šåŠ¡è¡¨
mysql -u root -p jingwen_campus < e:\wxxcx\JingWenWall\jingwenhub\sql\bus_tables_v1.0.sql
```

**ä¸šåŠ¡è¡¨è¯´æ˜**ï¼š

- `bus_student` - å­¦ç”Ÿä¿¡æ¯æ‰©å±•è¡¨
- `bus_forum_post` - è®ºå›å¸–å­
- `bus_forum_comment` - å¸–å­è¯„è®º
- `bus_forum_like` - å¸–å­ç‚¹èµ
- `bus_forum_collect` - å¸–å­æ”¶è—
- `bus_errand_order` - è·‘è…¿è®¢å•
- `bus_market_item` - äºŒæ‰‹å•†å“
- `bus_job_post` - å…¼èŒå²—ä½
- ç­‰å…¶ä»–ä¸šåŠ¡è¡¨...

### 3.2 é…ç½®æ–‡ä»¶ä¿®æ”¹

ç¼–è¾‘ `jingwenhub\campus-modular\src\main\resources\application.yml`

#### æ ¸å¿ƒé…ç½®é¡¹ï¼š

```yaml
# é¡¹ç›®åç§°
campus:
  name: jingwenhub
  version: 1.1.7

# æ•°æ®åº“é…ç½®
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/jingwen_campus?characterEncoding=utf-8&useSSL=true&serverTimezone=GMT%2B8
    username: root
    password: xingran8 # âš ï¸ ä¿®æ”¹ä¸ºä½ çš„ MySQL å¯†ç 

  # Redis é…ç½®
  redis:
    host: 127.0.0.1
    port: 6379
    database: 0

# å¾®ä¿¡å°ç¨‹åºé…ç½®
wechat:
  mini:
    appId: wxc56334f1f425a05f # âš ï¸ æ›¿æ¢ä¸ºä½ çš„å°ç¨‹åº AppID
    appSecret: c5e4a048b701be66b35ac4e1e8d4b075 # âš ï¸ æ›¿æ¢ä¸ºä½ çš„å°ç¨‹åº AppSecret
```

### 3.3 å¯åŠ¨ Redis æœåŠ¡

**Windows ç³»ç»Ÿ**ï¼š

```bash
# æ–¹å¼ 1ï¼šä½œä¸ºæœåŠ¡å¯åŠ¨ï¼ˆæ¨èï¼‰
redis-server --service-start

# æ–¹å¼ 2ï¼šå‰å°å¯åŠ¨ï¼ˆæµ‹è¯•ç”¨ï¼‰
redis-server

# éªŒè¯ Redis æ˜¯å¦è¿è¡Œ
redis-cli ping
# åº”è¯¥è¿”å›ï¼šPONG
```

**Linux/Mac ç³»ç»Ÿ**ï¼š

```bash
# å¯åŠ¨ Redis
redis-server /path/to/redis.conf

# åå°å¯åŠ¨
redis-server --daemonize yes
```

### 3.4 Maven ä¾èµ–å®‰è£…å’Œç¼–è¯‘

#### é¦–æ¬¡å¯åŠ¨ï¼ˆå¿…é¡»æ‰§è¡Œï¼‰ï¼š

```bash
# è¿›å…¥é¡¹ç›®æ ¹ç›®å½•
cd e:\wxxcx\JingWenWall\jingwenhub

# æ¸…ç†å¹¶å®‰è£…æ‰€æœ‰æ¨¡å—åˆ°æœ¬åœ°ä»“åº“
mvn clean install -DskipTests
```

**é¢„æœŸè¾“å‡º**ï¼š

```
[INFO] BUILD SUCCESS
[INFO] Total time: XX.XXX s
```

#### å…³é”®ä¿®å¤è¯´æ˜ï¼š

**é—®é¢˜ 1ï¼šLombok ç‰ˆæœ¬å…¼å®¹æ€§**

å·²åœ¨ `pom.xml` ä¸­ä¿®å¤ï¼š

```xml
<properties>
    <lombok.version>1.18.30</lombok.version>  <!-- å…¼å®¹ JDK 21 -->
</properties>

<dependency>
    <groupId>org.projectlombok</groupId>
    <artifactId>lombok</artifactId>
    <version>${lombok.version}</version>
</dependency>
```

**é—®é¢˜ 2ï¼šSpring Boot Maven Plugin ç‰ˆæœ¬**

å·²åœ¨ `campus-modular/pom.xml` ä¸­ä¿®å¤ï¼š

```xml
<plugin>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-maven-plugin</artifactId>
    <version>2.5.14</version>  <!-- åŒ¹é… Spring Boot ç‰ˆæœ¬ -->
    <configuration>
        <mainClass>com.oddfar.campus.CampusApplication</mainClass>
    </configuration>
</plugin>
```

### 3.5 å¯åŠ¨åç«¯æœåŠ¡

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Maven å‘½ä»¤ï¼ˆæ¨èå¼€å‘ç¯å¢ƒï¼‰

```bash
# è¿›å…¥ä¸»æ¨¡å—ç›®å½•
cd e:\wxxcx\JingWenWall\jingwenhub\campus-modular

# å¯åŠ¨æœåŠ¡
mvn spring-boot:run
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨ IDE å¯åŠ¨ï¼ˆæ¨èï¼‰

1. åœ¨ IDEA ä¸­æ‰“å¼€é¡¹ç›® `jingwenhub`
2. æ‰¾åˆ°å¯åŠ¨ç±»ï¼š`campus-modular/src/main/java/com/oddfar/campus/CampusApplication.java`
3. å³é”®ç‚¹å‡» â†’ `Run 'CampusApplication.main()'`

#### æ–¹å¼ä¸‰ï¼šæ‰“åŒ…åå¯åŠ¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```bash
# æ‰“åŒ…é¡¹ç›®
cd e:\wxxcx\JingWenWall\jingwenhub
mvn clean package -DskipTests

# è¿è¡Œ JAR åŒ…
java -jar campus-modular\target\campus-modular.jar
```

### 3.6 éªŒè¯åç«¯å¯åŠ¨æˆåŠŸ

#### æˆåŠŸæ ‡å¿—ï¼š

æ§åˆ¶å°è¾“å‡ºï¼š

```
2026-01-09 19:17:15 |INFO  |StartupInfoLogger.java:61 |Started CampusApplication in X.XXX seconds
```

#### è®¿é—®éªŒè¯ï¼š

1. **Swagger API æ–‡æ¡£**ï¼šhttp://localhost:8001/swagger-ui.html
2. **å¥åº·æ£€æŸ¥**ï¼ˆå¦‚æœå¯ç”¨ï¼‰ï¼šhttp://localhost:8001/actuator/health

#### é¢„æœŸæœåŠ¡ç«¯å£ï¼š

- åç«¯æœåŠ¡ï¼š`8001`
- MySQLï¼š`3306`
- Redisï¼š`6379`

---

## 4. å‰ç«¯å°ç¨‹åºå¯åŠ¨æµç¨‹

### 4.1 å®‰è£…ä¾èµ–

```bash
# è¿›å…¥å°ç¨‹åºç›®å½•
cd e:\wxxcx\JingWenWall\uniapp

# å®‰è£…ä¾èµ–
pnpm install
```

### 4.2 ç¯å¢ƒé…ç½®æ–‡ä»¶

å·²åˆ›å»º `src/utils/env.js`ï¼š

```javascript
/**
 * ç¯å¢ƒé…ç½®æ–‡ä»¶
 */

// å¼€å‘ç¯å¢ƒ - åç«¯æœåŠ¡åœ°å€
const DEV_BASE_URL = "http://localhost:8001";

// ç”Ÿäº§ç¯å¢ƒ - åç«¯æœåŠ¡åœ°å€
const PROD_BASE_URL = "https://your-production-domain.com";

// è…¾è®¯åœ°å›¾ API Key
const mapkey = "RSNBZ-3ABW4-MF3UK-FMCJP-JC4YT-RUFTR";

// æ ¹æ®ç¯å¢ƒè‡ªåŠ¨é€‰æ‹©
const baseUrl =
  process.env.NODE_ENV === "development" ? DEV_BASE_URL : PROD_BASE_URL;

export { baseUrl, mapkey };
```

### 4.3 å¯åŠ¨ç¼–è¯‘

```bash
# ç¼–è¯‘ä¸ºå¾®ä¿¡å°ç¨‹åºï¼ˆå¼€å‘æ¨¡å¼ï¼‰
pnpm run dev:mp-weixin
```

**é¢„æœŸè¾“å‡º**ï¼š

```
DONE  Build complete. Watching for changes...
è¿è¡Œæ–¹å¼ï¼šæ‰“å¼€ å¾®ä¿¡å¼€å‘è€…å·¥å…·, å¯¼å…¥ dist\dev\mp-weixin è¿è¡Œã€‚
ready in XXXXX ms.
```

**ç¼–è¯‘è¾“å‡ºç›®å½•**ï¼š`uniapp\dist\dev\mp-weixin`

### 4.4 å¾®ä¿¡å¼€å‘è€…å·¥å…·å¯¼å…¥

#### æ­¥éª¤ 1ï¼šæ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·

#### æ­¥éª¤ 2ï¼šå¯¼å…¥é¡¹ç›®

- ç‚¹å‡» **"å¯¼å…¥é¡¹ç›®"** æˆ– **"+"**
- **é¡¹ç›®è·¯å¾„**ï¼š`e:\wxxcx\JingWenWall\uniapp\dist\dev\mp-weixin`
- **AppID**ï¼šä½¿ç”¨ä½ çš„å°ç¨‹åº AppIDï¼ˆ`wxbd9c9c99d9116c2a`ï¼‰
  - å¦‚æœæ²¡æœ‰ AppIDï¼Œå¯ä»¥é€‰æ‹© **"æµ‹è¯•å·"**
- **é¡¹ç›®åç§°**ï¼šJingWenHub æ ¡å›­å°ç¨‹åº

#### æ­¥éª¤ 3ï¼šé…ç½®æœåŠ¡å™¨åŸŸåï¼ˆå¯é€‰ï¼‰

åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°ï¼ˆ`mp.weixin.qq.com`ï¼‰é…ç½®ï¼š

- å¼€å‘ç®¡ç† â†’ å¼€å‘è®¾ç½® â†’ æœåŠ¡å™¨åŸŸå
- request åˆæ³•åŸŸåï¼šæ·»åŠ åç«¯åŸŸåï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

**å¼€å‘é˜¶æ®µæç¤º**ï¼š

- åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼Œç‚¹å‡» **"è¯¦æƒ…"** â†’ **"æœ¬åœ°è®¾ç½®"**
- å‹¾é€‰ **"ä¸æ ¡éªŒåˆæ³•åŸŸåã€web-viewï¼ˆä¸šåŠ¡åŸŸåï¼‰ã€TLS ç‰ˆæœ¬ä»¥åŠ HTTPS è¯ä¹¦"**

#### æ­¥éª¤ 4ï¼šç¼–è¯‘é¢„è§ˆ

- ç‚¹å‡»å·¥å…·æ çš„ **"ç¼–è¯‘"** æŒ‰é’®
- åœ¨æ¨¡æ‹Ÿå™¨ä¸­æŸ¥çœ‹æ•ˆæœ
- æˆ–ç‚¹å‡» **"é¢„è§ˆ"** ç”ŸæˆäºŒç»´ç ï¼Œç”¨æ‰‹æœºæ‰«ç æŸ¥çœ‹

### 4.5 API æ¥å£è¯´æ˜

#### å¾®ä¿¡ç™»å½•æ¥å£ï¼š

å·²ä¿®å¤å¹¶æŒ‡å‘æ–°çš„å¾®ä¿¡ç™»å½• APIï¼š

**æ–‡ä»¶**ï¼š`src/api/login.js`

```javascript
// å¾®ä¿¡å°ç¨‹åºç™»å½•
export const userLoginService = (LoginData) => {
  return new Promise((resolve, reject) => {
    uni.request({
      url: baseUrl + "/api/v1/wx/auth/login", // âœ… æ–°æ¥å£
      method: "POST",
      data: LoginData, // { code: 'xxx' }
      success: function (res) {
        if (res.statusCode === 200 && res.data.code === 200) {
          const token = res.data.data.token;
          uni.setStorageSync("token", token);
          uni.setStorageSync("userInfo", res.data.data.studentInfo);
          resolve(res.data);
        }
      },
      fail: reject,
    });
  });
};
```

#### ç™»å½•æµç¨‹ï¼š

1. å°ç¨‹åºè°ƒç”¨ `uni.login()` è·å–ä¸´æ—¶ `code`
2. å°† `code` å‘é€åˆ°åç«¯ `/api/v1/wx/auth/login`
3. åç«¯è°ƒç”¨å¾®ä¿¡æ¥å£éªŒè¯ `code`ï¼Œè·å– `openid`
4. åç«¯åˆ›å»º/æŸ¥è¯¢ç”¨æˆ·ï¼Œç”Ÿæˆ JWT `token`
5. å°ç¨‹åºä¿å­˜ `token` åˆ°æœ¬åœ°å­˜å‚¨
6. åç»­è¯·æ±‚æºå¸¦ `token` è®¿é—®å—ä¿æŠ¤æ¥å£

---

## 5. å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 5.1 Lombok ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜

**é”™è¯¯ä¿¡æ¯**ï¼š

```
java.lang.NoSuchFieldError: Class com.sun.tools.javac.tree.JCTree$JCImport
does not have member field 'com.sun.tools.javac.tree.JCTree qualid'
```

**åŸå› **ï¼šæ—§ç‰ˆæœ¬ Lombokï¼ˆ1.18.20ï¼‰ä¸ JDK 21 ä¸å…¼å®¹

**è§£å†³æ–¹æ¡ˆ**ï¼š

åœ¨ `jingwenhub/pom.xml` ä¸­æ·»åŠ ï¼š

```xml
<properties>
    <lombok.version>1.18.30</lombok.version>
</properties>

<dependency>
    <groupId>org.projectlombok</groupId>
    <artifactId>lombok</artifactId>
    <version>${lombok.version}</version>
</dependency>
```

ç„¶åé‡æ–°ç¼–è¯‘ï¼š

```bash
mvn clean compile
```

### 5.2 Redis è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š

```
RedisConnectionException: Unable to connect to 127.0.0.1/<unresolved>:6379
Caused by: java.net.ConnectException: Connection refused
```

**åŸå› **ï¼šRedis æœåŠ¡æœªå¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# å¯åŠ¨ Redis
redis-server --service-start

# éªŒè¯
redis-cli ping
# åº”è¯¥è¿”å›ï¼šPONG
```

### 5.3 Spring Boot Maven Plugin é”™è¯¯

**é”™è¯¯ä¿¡æ¯**ï¼š

```
[ERROR] No plugin found for prefix 'spring-boot' in the current project
```

**åŸå› **ï¼š`campus-modular/pom.xml` ä¸­æ’ä»¶ç‰ˆæœ¬ä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**ï¼š

ä¿®æ”¹ `campus-modular/pom.xml`ï¼š

```xml
<plugin>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-maven-plugin</artifactId>
    <version>2.5.14</version>  <!-- æ”¹ä¸º 2.5.14 -->
    <configuration>
        <mainClass>com.oddfar.campus.CampusApplication</mainClass>
    </configuration>
</plugin>
```

### 5.4 å°ç¨‹åºç™»å½•æ¥å£ 401 é”™è¯¯

**é”™è¯¯ä¿¡æ¯**ï¼š

```
{msg: "è¯·æ±‚è®¿é—®ï¼š/student/login/loginï¼Œè®¤è¯å¤±è´¥ï¼Œæ— æ³•è®¿é—®ç³»ç»Ÿèµ„æº", code: 401}
```

**åŸå› **ï¼šä½¿ç”¨äº†æ—§çš„ç™»å½•æ¥å£è·¯å¾„

**è§£å†³æ–¹æ¡ˆ**ï¼š

å·²åœ¨ `src/api/login.js` ä¸­ä¿®å¤ï¼š

```javascript
// é”™è¯¯çš„æ—§æ¥å£
// url: baseUrl + '/student/login/login'

// æ­£ç¡®çš„æ–°æ¥å£
url: baseUrl + "/api/v1/wx/auth/login";
```

### 5.5 env.js æ–‡ä»¶ç¼ºå¤±é”™è¯¯

**é”™è¯¯ä¿¡æ¯**ï¼š

```
Cannot find module 'E:/wxxcx/JingWenWall/uniapp/src/utils/env'
```

**è§£å†³æ–¹æ¡ˆ**ï¼š

å·²åˆ›å»º `src/utils/env.js` æ–‡ä»¶ï¼ŒåŒ…å«ï¼š

- `baseUrl` - åç«¯æœåŠ¡åœ°å€
- `mapkey` - è…¾è®¯åœ°å›¾ API Key

### 5.6 æ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š

```
Communications link failure
```

**æ£€æŸ¥é¡¹**ï¼š

1. MySQL æœåŠ¡æ˜¯å¦å¯åŠ¨
2. æ•°æ®åº“åç§°æ˜¯å¦æ­£ç¡®ï¼ˆ`jingwen_campus`ï¼‰
3. ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
4. ç«¯å£æ˜¯å¦æ­£ç¡®ï¼ˆé»˜è®¤ 3306ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# æ£€æŸ¥ MySQL æœåŠ¡
# Windows
net start mysql

# Linux
systemctl status mysql
```

### 5.7 ç¼–è¯‘æ—¶ MyBatis è­¦å‘Š

**è­¦å‘Šä¿¡æ¯**ï¼š

```
class com.oddfar.campus.business.domain.entity.ContentLoveEntity ,
Not found @TableId annotation, Cannot use Mybatis-Plus 'xxById' Method.
```

**è¯´æ˜**ï¼šè¿™æ˜¯æ­£å¸¸è­¦å‘Šï¼Œä¸å½±å“è¿è¡Œã€‚åŸå› æ˜¯æŸäº›å®ä½“ä½¿ç”¨è”åˆä¸»é”®ï¼Œæœªä½¿ç”¨ `@TableId` æ³¨è§£ã€‚

---

## 6. éªŒè¯æ­¥éª¤

### 6.1 åç«¯æœåŠ¡éªŒè¯

#### æ£€æŸ¥ 1ï¼šæœåŠ¡å¯åŠ¨æ—¥å¿—

æŸ¥çœ‹æ§åˆ¶å°ï¼Œç¡®è®¤çœ‹åˆ°ï¼š

```
Started CampusApplication in X.XXX seconds
```

#### æ£€æŸ¥ 2ï¼šç«¯å£ç›‘å¬

```bash
# Windows
netstat -ano | findstr 8001

# Linux/Mac
lsof -i :8001
```

#### æ£€æŸ¥ 3ï¼šè®¿é—® Swagger

æµè§ˆå™¨æ‰“å¼€ï¼šhttp://localhost:8001/swagger-ui.html

åº”è¯¥èƒ½çœ‹åˆ° API æ–‡æ¡£é¡µé¢ï¼ŒåŒ…å«ï¼š

- å¾®ä¿¡è®¤è¯æ¥å£ï¼ˆ`/api/v1/wx/auth/login`ï¼‰
- å­¦ç”Ÿç®¡ç†æ¥å£
- å†…å®¹ç®¡ç†æ¥å£ç­‰

#### æ£€æŸ¥ 4ï¼šæ•°æ®åº“è¿æ¥

æŸ¥çœ‹æ—¥å¿—ä¸­æ˜¯å¦æœ‰ï¼š

```
Creating a new SqlSession
JDBC Connection [HikariProxyConnection@xxx] will not be managed by Spring
```

#### æ£€æŸ¥ 5ï¼šRedis è¿æ¥

æ—¥å¿—ä¸­ä¸åº”è¯¥å‡ºç° Redis è¿æ¥é”™è¯¯ã€‚

### 6.2 å°ç¨‹åºéªŒè¯

#### æ£€æŸ¥ 1ï¼šç¼–è¯‘æˆåŠŸ

å‘½ä»¤è¡Œè¾“å‡ºï¼š

```
DONE  Build complete. Watching for changes...
```

#### æ£€æŸ¥ 2ï¼šå¾®ä¿¡å¼€å‘è€…å·¥å…·å¯¼å…¥

èƒ½å¤Ÿæ­£å¸¸å¯¼å…¥é¡¹ç›®ï¼Œä¸æŠ¥é”™ã€‚

#### æ£€æŸ¥ 3ï¼šæ¨¡æ‹Ÿå™¨æ˜¾ç¤º

å°ç¨‹åºèƒ½åœ¨æ¨¡æ‹Ÿå™¨ä¸­æ­£å¸¸æ˜¾ç¤ºé¦–é¡µã€‚

#### æ£€æŸ¥ 4ï¼šç™»å½•æµç¨‹

æ‰“å¼€å°ç¨‹åºåï¼š

1. è‡ªåŠ¨è°ƒç”¨å¾®ä¿¡ç™»å½•ï¼ˆ`uni.login()`ï¼‰
2. æ§åˆ¶å°è¾“å‡ºï¼š
   ```
   å¾®ä¿¡ç™»å½•å“åº”: {...}
   ç™»å½•æˆåŠŸï¼Œä¿å­˜ token: eyJhbGciOiJIUzUxMiJ9...
   ```
3. æŸ¥çœ‹ Storageï¼š
   - å·¥å…·æ  â†’ è°ƒè¯•å™¨ â†’ Storage â†’ Storage
   - åº”è¯¥èƒ½çœ‹åˆ° `token` å’Œ `userInfo` å·²ä¿å­˜

#### æ£€æŸ¥ 5ï¼šç½‘ç»œè¯·æ±‚

åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼š

- å·¥å…·æ  â†’ è°ƒè¯•å™¨ â†’ Network
- åˆ·æ–°é¡µé¢ï¼ŒæŸ¥çœ‹ç½‘ç»œè¯·æ±‚
- åº”è¯¥èƒ½çœ‹åˆ°ï¼š
  - âœ… `/api/v1/wx/auth/login` - çŠ¶æ€ç  200
  - âœ… å…¶ä»– API è¯·æ±‚ - çŠ¶æ€ç  200

#### æ£€æŸ¥ 6ï¼šåŠŸèƒ½æµ‹è¯•

- âœ… é¦–é¡µèƒ½å¤Ÿæ˜¾ç¤ºå†…å®¹åˆ—è¡¨
- âœ… ç‚¹å‡»å†…å®¹èƒ½æŸ¥çœ‹è¯¦æƒ…
- âœ… èƒ½å¤Ÿè®¿é—®ä¸ªäººä¸­å¿ƒ
- âœ… èƒ½å¤Ÿå‘å¸ƒæ–°å†…å®¹ï¼ˆå¦‚æœå·²å®ç°ï¼‰

### 6.3 å‰åç«¯è”è°ƒéªŒè¯

#### æµ‹è¯•åœºæ™¯ 1ï¼šç”¨æˆ·ç™»å½•

**æ“ä½œ**ï¼šæ‰“å¼€å°ç¨‹åº

**é¢„æœŸ**ï¼š

- å°ç¨‹åºï¼šè‡ªåŠ¨è§¦å‘ç™»å½•ï¼Œä¿å­˜ token
- åç«¯æ—¥å¿—ï¼š
  ```
  å¾®ä¿¡ç™»å½•æˆåŠŸ, openid: oxxxxxxxxxxxxx
  æ–°ç”¨æˆ·æ³¨å†ŒæˆåŠŸ, userId: xxx, studentId: xxx
  ```

#### æµ‹è¯•åœºæ™¯ 2ï¼šè·å–å†…å®¹åˆ—è¡¨

**æ“ä½œ**ï¼šåœ¨é¦–é¡µä¸‹æ‹‰åˆ·æ–°

**é¢„æœŸ**ï¼š

- å°ç¨‹åºï¼šæ˜¾ç¤ºå†…å®¹åˆ—è¡¨
- åç«¯æ—¥å¿—ï¼š
  ```
  ==> Preparing: SELECT * FROM content WHERE del_flag = 0 ORDER BY create_time DESC
  <== Total: X
  ```

#### æµ‹è¯•åœºæ™¯ 3ï¼šæŸ¥çœ‹ä¸ªäººä¿¡æ¯

**æ“ä½œ**ï¼šç‚¹å‡»åº•éƒ¨å¯¼èˆªçš„"æˆ‘çš„"

**é¢„æœŸ**ï¼š

- å°ç¨‹åºï¼šæ˜¾ç¤ºç”¨æˆ·å¤´åƒã€æ˜µç§°
- åç«¯ï¼šToken éªŒè¯é€šè¿‡ï¼Œè¿”å›ç”¨æˆ·ä¿¡æ¯

---

## ğŸ“Œ å¿«é€Ÿå¯åŠ¨å‘½ä»¤æ€»ç»“

### å¯åŠ¨åç«¯ï¼ˆWindowsï¼‰

```bash
# 1. å¯åŠ¨ Redis
redis-server --service-start

# 2. éªŒè¯ MySQL è¿è¡Œ
mysql -u root -p
# è¾“å…¥å¯†ç åï¼ŒæŸ¥çœ‹æ•°æ®åº“
SHOW DATABASES;
USE jingwen_campus;

# 3. é¦–æ¬¡å¯åŠ¨éœ€è¦å®‰è£…ä¾èµ–
cd e:\wxxcx\JingWenWall\jingwenhub
mvn clean install -DskipTests

# 4. å¯åŠ¨åç«¯æœåŠ¡
cd campus-modular
mvn spring-boot:run
```

### å¯åŠ¨å°ç¨‹åº

```bash
# 1. å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡ï¼‰
cd e:\wxxcx\JingWenWall\uniapp
pnpm install

# 2. å¯åŠ¨ç¼–è¯‘ï¼ˆè‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
pnpm run dev:mp-weixin

# 3. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
# å¯¼å…¥é¡¹ç›®ï¼šuniapp\dist\dev\mp-weixin
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥å¼€å‘å»ºè®®

### ç¬¬äºŒé˜¶æ®µï¼šåŠŸèƒ½è¿ç§»ï¼ˆWeek 4-8ï¼‰

1. **è®ºå›æ¨¡å—**ï¼š

   - å¸–å­å‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤
   - è¯„è®ºç³»ç»Ÿ
   - ç‚¹èµã€æ”¶è—åŠŸèƒ½

2. **è·‘è…¿æœåŠ¡**ï¼š

   - è®¢å•ç®¡ç†
   - æ¥å•ç³»ç»Ÿ
   - è®¢å•çŠ¶æ€æµè½¬

3. **äºŒæ‰‹å¸‚åœº**ï¼š
   - å•†å“å‘å¸ƒ
   - å•†å“æµè§ˆ
   - äº¤æ˜“ç³»ç»Ÿ

### ç¬¬ä¸‰é˜¶æ®µï¼šç³»ç»Ÿä¼˜åŒ–ï¼ˆWeek 9-12ï¼‰

1. æ€§èƒ½ä¼˜åŒ–
2. å®‰å…¨åŠ å›º
3. ç›‘æ§å‘Šè­¦
4. éƒ¨ç½²ä¸Šçº¿

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **é¡¹ç›®è·¯å¾„**ï¼š`e:\wxxcx\JingWenWall\`
- **åç«¯ç«¯å£**ï¼š8001
- **æ•°æ®åº“**ï¼šjingwen_campus
- **å°ç¨‹åº AppID**ï¼šwxc56334f1f425a05f

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0 (2026-01-09)

- âœ… å®Œæˆç¬¬ä¸€é˜¶æ®µåŸºç¡€ç¯å¢ƒæ•´åˆ
- âœ… ä¿®å¤ Lombok ä¸ JDK 21 å…¼å®¹æ€§é—®é¢˜
- âœ… ä¿®å¤ Spring Boot Maven Plugin ç‰ˆæœ¬é—®é¢˜
- âœ… åˆ›å»º 13 å¼ æ–°ä¸šåŠ¡è¡¨
- âœ… å®ç°å¾®ä¿¡å°ç¨‹åºç™»å½•æ¥å£
- âœ… åˆ›å»º BusStudent å­¦ç”Ÿä¿¡æ¯æ‰©å±•å®ä½“
- âœ… ä¿®å¤å°ç¨‹åºç™»å½•æ¥å£è·¯å¾„é”™è¯¯
- âœ… åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆenv.jsï¼‰

---

**æ–‡æ¡£ç»´æŠ¤è€…**ï¼šAI Assistant  
**æœ€åæ›´æ–°**ï¼š2026-01-09 19:35  
**é¡¹ç›®ç‰ˆæœ¬**ï¼šv1.1.7 (é‡æ„ä¸­)
